using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.Xna.Framework.Input;

using PlagueEngine.LowLevelGameFlow;
using PlagueEngine.Input;

/************************************************************************************/
/// PlagueEngine.Input.Components
/************************************************************************************/
namespace PlagueEngine.Input.Components
{

    /********************************************************************************/
    /// KeyboardListenerComponent
    /********************************************************************************/
    class KeyboardListenerComponent : GameObjectComponent
    {
        
        /****************************************************************************/
        /// Fields
        /****************************************************************************/
        private Input input  = null;
        private bool  active = true;
        /****************************************************************************/


        /****************************************************************************/
        /// Keyboard Listener Component
        /****************************************************************************/
        public KeyboardListenerComponent(GameObjectInstance gameObject, Input input, bool active) : base(gameObject)
        {
            this.input  = input;
            this.active = active;
        }
        /****************************************************************************/


        /****************************************************************************/
        /// Active
        /****************************************************************************/
        public bool Active
        {
            get
            {
                return active;
            }

            set
            {
                active = value;
            }
        }
        /****************************************************************************/


        /****************************************************************************/
        /// Subscribe Keys
        /****************************************************************************/
        public void SubscibeKeys(OnKey onKey, params Keys[] keys)
        {
            foreach (Keys key in keys)
            {
                input.SubscribeKeyboardListener(this, key, onKey);
            }
        }
        /****************************************************************************/


        /****************************************************************************/
        /// Release Me
        /****************************************************************************/
        public override void ReleaseMe()
        {
            input.ReleaseKeyboardListenerComponent(this);
        }
        /****************************************************************************/

    }
    /********************************************************************************/

}
/************************************************************************************/